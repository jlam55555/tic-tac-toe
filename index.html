<!DOCTYPE html><html><head><title>Tic Tac Toe &mdash; TheHomeworkLife</title><style>@import url(https://fonts.googleapis.com/css?family=Quicksand:700);@import url(https://fonts.googleapis.com/css?family=Merriweather);*{box-sizing:border-box}body,html{margin:0;padding:0;min-width:500px;min-height:500px;width:100%;height:100%;font-family:merriweather}div#cite,div#title{padding:20px;text-align:center}div#cite>a{text-decoration:none;color:#000;border-bottom:1px dotted #000}div#gameboard{width:500px;height:500px;margin:0 auto;background-color:#2c5986;border-radius:5px;padding:10px}div.square{background-color:rgba(255,255,255,.75);border-radius:5px;margin:10px;height:calc(100%/3 - 20px);width:calc(100%/3 - 20px);float:left;cursor:pointer;display:flex;align-items:center}div.square.touched{cursor:auto}@keyframes fadeIn{from{opacity:0}to{opacity:1}}div.square>span{flex-grow:1;font-family:quicksand;font-weight:700;font-size:100px;color:#2c5986;text-align:center;animation:fadeIn .2s 1 forwards;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}</style></head><body><div id="title">Tic Tac Toe</div><div id="gameboard"></div><div id="cite">Tic Tac Toe by Jonathan Lam for <a href="http://www.thehomeworklife.co.nf">The Homework Life.</a><br />See the code at <a href="https://jsfiddle.net/jlam55555/1n4tfs3o/92/embedded/result">JSFiddle.net</a>.</div><a id="thehomeworklifelogosnippet" href="http://www.thehomeworklife.co.nf" target="_blank"><img id="snippetlogo" title="A work of TheHomeworkLife" src="http://s16.postimg.org/umt8ui8fl/thl_touch_icon.png"><style>a#thehomeworklifelogosnippet>img#snippetlogo{cursor: pointer;width:32px;height:32px;position:fixed;bottom:16px;right:16px;z-index:100;border-radius:32px;box-shadow:0 0 10px #888888;transition:all .5s;opacity:1}a#thehomeworklifelogosnippet>img#snippetlogo:hover{box-shadow:0 0 10px black}</style></a><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script>var end=function(e){var n=0==e?"Tie!":1==e?"You have won!":"You have lost. =(";confirm(n+"\nPlay again?")&&play()},getAll=function(){var e=[];return $("div.square > span:contains(X)").each(function(n,a){e[$(a).parent().index()]="x"}),$("div.square > span:contains(O)").each(function(n,a){e[$(a).parent().index()]="o"}),e},getAllGrid=function(e){for(var n=[[],[],[]],a=0;9>a;a++)void 0==e[a]&&(e[a]=""),n[Math.floor(a/3)][a%3]=e[a];return n},check=function(e){for(var n=[e[0],e[1],e[2],[e[0][0],e[1][0],e[2][0]],[e[0][1],e[1][1],e[2][1]],[e[0][2],e[1][2],e[2][2]],[e[0][0],e[1][1],e[2][2]],[e[0][2],e[1][1],e[2][0]]],a=0;a<n.length;a++){var t=n[a];if(3==count(t,"x"))return end(1),!0;if(3==count(t,"o"))return end(2),!0}return!1},count=function(e,n){for(var a=0,t=0;t<e.length;t++)e[t]==n&&a++;return a},indeces=function(e,n){for(var a=[],t=0;t<e.length;t++)e[t]==n&&a.push(t);return a},gameboard=$("div#gameboard"),play=function(){gameboard.empty();for(var e=0;9>e;e++)gameboard.append("<div class='square'></div>");var n=1==Math.floor(2*Math.random())?!0:!1;if(n){var a=Math.floor(9*Math.random())+1;$("div.square:nth-of-type("+a+")").append("<span>O</span>").addClass("touched"),n=!1}$("div.square").click(function(){n||0==$(this).children("span").length&&($(this).append("<span>X</span>"),$(this).addClass("touched"),setTimeout(function(){var e=getAll(),a=getAllGrid(e);if(!check(a)){if(0==count(e,""))return void end(0);for(var t=0;3>t;t++){if(2==count(a[t],"o")&&0==count(a[t],"x"))return $("div.square:nth-of-type("+(3*t+indeces(a[t],"")[0]+1)+")").append("<span>O</span>").addClass("touched"),void check(getAllGrid(getAll()));var o=[a[0][t],a[1][t],a[2][t]];if(2==count(o,"o")&&0==count(o,"x"))return $("div.square:nth-of-type("+(3*indeces(o,"")+t+1)+")").append("<span>O</span>").addClass("touched"),void check(getAllGrid(getAll()))}for(var d=[[a[0][0],a[1][1],a[2][2]],[a[0][2],a[1][1],a[2][0]]],t=0;2>t;t++){var r=d[t];if(2==count(r,"o")&&0==count(r,"x")){var i=0==t?4*indeces(r,"")[0]+1:2*indeces(r,"")[0]+3;return $("div.square:nth-of-type("+i+")").append("<span>O</span>").addClass("touched"),void check(getAllGrid(getAll()))}}for(var t=0;3>t;t++){if(2==count(a[t],"x")&&0==count(a[t],"o"))return $("div.square:nth-of-type("+(3*t+indeces(a[t],"")[0]+1)+")").append("<span>O</span>").addClass("touched"),0==count(getAll(),void 0)&&9==getAll().length?void end(0):void(n=!1);var o=[a[0][t],a[1][t],a[2][t]];if(2==count(o,"x")&&0==count(o,"o"))return $("div.square:nth-of-type("+(3*indeces(o,"")+t+1)+")").append("<span>O</span>").addClass("touched"),0==count(getAll(),void 0)&&9==getAll().length?void end(0):void(n=!1)}for(var t=0;2>t;t++){var r=d[t];if(2==count(r,"x")&&0==count(r,"o")){var i=0==t?4*indeces(r,"")[0]+1:2*indeces(r,"")[0]+3;return $("div.square:nth-of-type("+i+")").append("<span>O</span>").addClass("touched"),0==count(getAll(),void 0)&&9==getAll().length?void end(0):void(n=!1)}}var s=[e[0],e[2],e[6],e[8]];if(count(s,"")>0){var i,c=Math.floor(Math.random()*count(s,""));switch(indeces(s,"")[c]){case 0:i=1;break;case 1:i=3;break;case 2:i=7;break;case 3:i=9}$("div.square:nth-of-type("+i+")").append("<span>O</span>").addClass("touched")}else{var c=Math.floor(Math.random()*count(e,""));$("div.square:nth-of-type("+(indeces(e,"")[c]+1)+")").append("<span>O</span>").addClass("touched")}if(!check(getAllGrid(getAll())))return 0==count(getAll(),void 0)&&9==getAll().length?void end(0):void(n=!1)}},200))})};play();</script></body></html>
